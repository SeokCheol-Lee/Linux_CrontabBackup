# 💿Linux_CrontabBackup

이 프로젝트는 `/home/user/01.Linux/step02shell/` 경로에 위치한 `fisa1` 디렉터리를 백업하고, 이를 `.tar.gz` 파일로 압축하는 bash 스크립트를 포함하고 있습니다. 백업 과정은 매일 오전 9시에 cron 작업을 통해 자동으로 실행됩니다.

## 📌프로젝트 목적

이 프로젝트의 목적은 주기적인 백업을 통해 데이터 손실 위험을 최소화하고, 안정적인 데이터 관리를 가능하게 하는 것입니다. 지정한 디렉터리는 `fisa'로 중요한 디렉터리라 가정하고 데이터를 정기적으로 백업하여, 시스템 장애나 데이터 손상에 대비할 수 있도록 진행했습니다. 백업 파일을 압축 및 저장함으로써 디스크 공간을 효율적으로 사용하고, 날짜별 백업 기록을 관리할 수 있는 구조를 제공합니다.

## 📌사전 준비 사항

- 리눅스 환경
- Bash 스크립트에 대한 기본적인 이해
- 시스템에서 cron 서비스가 실행 중이어야 합니다

## 📌백업 스크립트 설명

백업 스크립트는 다음과 같은 과정을 수행합니다:

1. **백업할 디렉터리 경로**: `/home/user/01.Linux/step02shell/fisa1` 디렉터리를 백업합니다.
2. **백업 파일 저장 경로**: 백업 파일은 `/home/user/01.Linux/backup/` 경로에 저장됩니다.
3. **파일 압축 및 날짜 형식 지정**: 백업 파일 이름은 현재 날짜를 기준으로 `fisa1_backup_YYYYMMDD.tar.gz` 형태로 저장됩니다.
4. **cron 작업**: 이 스크립트는 cron을 통해 매일 오전 9시에 자동 실행되도록 설정됩니다.

### 📄스크립트 내용(backup.sh)

```bash
#!/bin/bash

# 백업할 디렉터리 경로
SOURCE_DIR="/home/user/01.Linux/step02shell/fisa1"

# 백업을 저장할 디렉터리 경로
BACKUP_DIR="/home/user/01.Linux/backup/"

# 날짜 형식 지정 (백업 파일 이름에 사용할 날짜)
DATE=$(date +"%Y%m%d")

# 백업 파일 이름
BACKUP_FILE="fisa1_backup_$DATE.tar.gz"

# 백업할 디렉터리로 이동
cd $SOURCE_DIR

# 백업 실행 (디렉터리를 tar.gz 파일로 압축)
tar -czf $BACKUP_FILE .

# tar 파일을 최종 백업 디렉터리로 이동
mv $SOURCE_DIR/$BACKUP_FILE $BACKUP_DIR/
```

## 🕘Cron 설정
스크립트를 매일 오전 9시에 실행하도록 crontab에 설정할 수 있습니다.

**📌crontab 열기**

다음 명령어를 실행하여 crontab을 엽니다.

```bash
crontab -e
```

**📌crontab에 작업 추가**

아래 내용을 crontab에 추가하여 매일 오전 9시에 백업 스크립트가 실행되도록 설정합니다:

```bash
0 9 * * * /bin/bash /path/to/backup.sh
```
위에서 0 9 * * *는 매일 오전 9시를 의미하고, /path/to/backup.sh는 백업 스크립트의 절대 경로입니다.

**📌실행 권한 부여**

백업 스크립트가 실행되려면, 스크립트에 실행 권한을 부여해야 합니다.

```bash
chmod +x /path/to/backup.sh
```
이 명령어를 실행하면 매일 오전 9시에 자동으로 fisa1 디렉터리의 백업이 진행됩니다.

**🌳프로젝트 구조**

![image](https://github.com/user-attachments/assets/10d47c18-7ef0-4851-a176-e2071df21e15)


## 결론

디렉터리의 데이터를 **정기적으로 백업**하는 프로세스를 자동화하여, 데이터 보호 및 복구에 대한 신뢰성을 확보하는 것은 중요합니다. Bash 스크립트와 cron을 이용한 간단한 설정만으로 매일 주기적인 백업을 가능하게 하며, 이러한 백업 프로세스는 **시스템 장애나 데이터 손실**이 발생할 때 중요한 역할을 합니다.

백업 스크립트는 사용자 정의가 용이하며, 다양한 경로와 파일 형식으로 확장될 수 있습니다. 특히, 디렉터리 구조가 크거나 복잡해도 효율적인 압축 및 파일 이동을 통해 **디스크 공간을 절약**하며, **데이터 관리의 효율성**을 극대화할 수 있습니다. 이를 통해 데이터 안정성을 유지하고 비즈니스 연속성을 보장할 수 있습니다.
